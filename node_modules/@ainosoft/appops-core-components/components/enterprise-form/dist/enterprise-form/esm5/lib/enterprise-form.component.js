/**
 * @fileoverview added by tsickle
 * Generated from: lib/enterprise-form.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { FormBuilder, Validators } from '@angular/forms';
import { EnterpriseFormService } from './enterprise-form.service';
import { FormConfig } from '../config/FormConfig';
import { ActionConfig } from '../config/ActionConfig';
var EnterpriseFormComponent = /** @class */ (function () {
    function EnterpriseFormComponent(_formBuilder, enterpFormService, formConfig, actionConfig) {
        var _this = this;
        this._formBuilder = _formBuilder;
        this.enterpFormService = enterpFormService;
        this.formConfig = formConfig;
        this.actionConfig = actionConfig;
        this.isEditable = false;
        this.isLinear = true;
        this.enableGrid = false;
        this.referencePackageList = [];
        this.enableModuleName = false;
        this.enableUserRole = false;
        this.enableRefPackage = false;
        this.enableBasePrice = false;
        this.enableSubFrequency = false;
        this.enableMetaConfig = false;
        /** subscribes to the last emitted grid list (current list) from the behaviour subject
         *  @currentList observable instance.
         */
        this.enterpFormService.currentList.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            console.log(data, 'form moduleList');
            for (var i in data) {
                if (data[i].status === 'ready' || data[i].status === 'subscribed') {
                    _this.referencePackageList.push(data[i].packageName);
                }
            }
        }));
        this.formConfig.currentFormHeader.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.formHeader = data;
        }));
        this.actionConfig.currModuleNameValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.enableModuleName = data;
        }));
        this.actionConfig.currUserRoleValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.enableUserRole = data;
        }));
        this.actionConfig.currRefPackageValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.enableRefPackage = data;
        }));
        this.actionConfig.curreBasePriceValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.enableBasePrice = data;
        }));
        this.actionConfig.curreSubFrequencyValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.enableSubFrequency = data;
        }));
    }
    /**
     * @return {?}
     */
    EnterpriseFormComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.firstFormGroup = this._formBuilder.group({
            firstCtrl: ['', Validators.required],
            first2Ctrl: ['', Validators.required],
        });
        this.secondFormGroup = this._formBuilder.group({
            secondCtrl: ['', Validators.required]
        });
    };
    /**
     * @return {?}
     */
    EnterpriseFormComponent.prototype.backToTable = /**
     * @return {?}
     */
    function () {
        this.enableGrid = true;
        this.enterpFormService.enableOpenGridAction(this.enableGrid);
    };
    /**
     * @return {?}
     */
    EnterpriseFormComponent.prototype.openMetaConfig = /**
     * @return {?}
     */
    function () {
        this.enableMetaConfig = true;
        this.enterpFormService.enableOpenMetaConfigAction(this.enableMetaConfig);
    };
    EnterpriseFormComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-enterprise-form',
                    template: "<div class=\"formBgColor\">\n    <mat-toolbar style=\"background: #f0f1f3;\">\n        <button mat-icon-button class=\"back\" (click)=\"backToTable()\">\n            <mat-icon matTooltip=\"back\">keyboard_backspace</mat-icon>\n        </button>\n        <h2 class=\"form-header\">Create new {{formHeader | lowercase }}</h2>\n    </mat-toolbar>\n\n    <div class=\"form-card-container\">\n        <form [formGroup]=\"firstFormGroup\" class=\"form-card\">\n            <h2 class=\"meta-header\">Summary</h2>\n            <mat-card-content>\n                <!-- Module Name -->\n                <p *ngIf=\"enableModuleName\">\n                    <mat-form-field appearance=\"outline\" class=\"name-field\">\n                        <mat-label>Name</mat-label>\n                        <input matInput placeholder=\"Name\" formControlName=\"firstCtrl\" required>\n                    </mat-form-field>\n                </p>\n\n                <!-- User Role -->\n                <p *ngIf=\"enableUserRole\">\n                    <mat-form-field appearance=\"outline\" class=\"select-field\">\n                        <mat-label>{{formHeader }} role</mat-label>\n                        <mat-select formControlName=\"first2Ctrl\">\n                            <mat-option value=\"Queries\">role 1</mat-option>\n                            <mat-option value=\"Items\">role 2</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </p>\n\n                <!-- User refrence package -->\n                <p *ngIf=\"enableRefPackage\">\n                    <mat-form-field appearance=\"outline\" class=\"select-field\">\n                        <mat-label>Use reference {{formHeader | lowercase }}</mat-label>\n                        <mat-select formControlName=\"first2Ctrl\" required>\n                            <mat-option>--select--</mat-option>\n                            <mat-option value=\"{{element}}\" *ngFor='let element of referencePackageList' >{{element}}</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </p>\n\n                <!-- Base Price -->\n                <p *ngIf=\"enableBasePrice\">\n                    <mat-form-field appearance=\"outline\" class=\"name-field\">\n                        <mat-label>Base price</mat-label>\n                        <input matInput placeholder=\"Base price\" formControlName=\"firstCtrl\" required>\n                        <i class=\"fa fa-euro\" style=\"font-size:22px\" matSuffix></i>\n                    </mat-form-field>\n                </p>\n\n                <!-- Subscription frequency -->\n                <p *ngIf=\"enableSubFrequency\">\n                    <mat-form-field appearance=\"outline\" class=\"select-field\">\n                        <mat-label>Subscription frequency</mat-label>\n                        <mat-select formControlName=\"first2Ctrl\">\n                            <mat-option value=\"Quaterly\">Monthly</mat-option>\n                            <mat-option value=\"Quaterly\">Quaterly</mat-option>\n                            <mat-option value=\"Half Year\">Half Yearly</mat-option>\n                            <mat-option value=\"Annually\">Annually</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </p>\n                <button mat-stroked-button type=\"button\" class=\"next-button\" (click)=\"openMetaConfig()\">{{formHeader | lowercase}} details\n                    <mat-icon>chevron_right</mat-icon>\n                </button>\n\n            </mat-card-content>\n        </form>\n    </div>\n</div>",
                    styles: [".formBgColor{background:#f0f1f3}.form-card-container{margin:8px;height:73vh;-webkit-animation:.5s cubic-bezier(.25,.46,.45,.94) both slide-left;animation:.5s cubic-bezier(.25,.46,.45,.94) both slide-left;background:#fff}@-webkit-keyframes slide-left{from{transform:translateX(150px)}to{transform:translateX(5px)}}@keyframes slide-left{from{transform:translateX(150px)}to{transform:translateX(5px)}}.form-header{color:#414c55;font-family:Questrial,sans-serif;font-weight:700;letter-spacing:1px}.meta-header{color:#414c55;font-family:Questrial,sans-serif;letter-spacing:1px;font-weight:100}.form-card{padding:27px}.mat-option{font-size:smaller}.name-field,.select-field{width:40%;font-family:Questrial,sans-serif}.next-button{position:absolute;bottom:30px;right:50px;background:#414c55;color:#fff;font-size:16px;outline:0;border:none;padding:5px 40px;font-family:Questrial,sans-serif}.next-button:hover{box-shadow:0 12px 16px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}"]
                }] }
    ];
    /** @nocollapse */
    EnterpriseFormComponent.ctorParameters = function () { return [
        { type: FormBuilder },
        { type: EnterpriseFormService },
        { type: FormConfig },
        { type: ActionConfig }
    ]; };
    return EnterpriseFormComponent;
}());
export { EnterpriseFormComponent };
if (false) {
    /** @type {?} */
    EnterpriseFormComponent.prototype.firstFormGroup;
    /** @type {?} */
    EnterpriseFormComponent.prototype.secondFormGroup;
    /** @type {?} */
    EnterpriseFormComponent.prototype.isEditable;
    /** @type {?} */
    EnterpriseFormComponent.prototype.isLinear;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableGrid;
    /** @type {?} */
    EnterpriseFormComponent.prototype.formHeader;
    /** @type {?} */
    EnterpriseFormComponent.prototype.referencePackageList;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableModuleName;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableUserRole;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableRefPackage;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableBasePrice;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableSubFrequency;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableMetaConfig;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype._formBuilder;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype.enterpFormService;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype.formConfig;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype.actionConfig;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50ZXJwcmlzZS1mb3JtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2VudGVycHJpc2UtZm9ybS8iLCJzb3VyY2VzIjpbImxpYi9lbnRlcnByaXNlLWZvcm0uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQWEsV0FBVyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFFdEQ7SUFzQkUsaUNBQW9CLFlBQXlCLEVBQVUsaUJBQXdDLEVBQVUsVUFBc0IsRUFBVSxZQUEwQjtRQUFuSyxpQkFzQ0M7UUF0Q21CLGlCQUFZLEdBQVosWUFBWSxDQUFhO1FBQVUsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUF1QjtRQUFVLGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxpQkFBWSxHQUFaLFlBQVksQ0FBYztRQWJuSyxlQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ25CLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFDaEIsZUFBVSxHQUFHLEtBQUssQ0FBQztRQUVuQix5QkFBb0IsR0FBVSxFQUFFLENBQUM7UUFFakMscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLG1CQUFjLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLHFCQUFnQixHQUFHLEtBQUssQ0FBQztRQUN6QixvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUN4Qix1QkFBa0IsR0FBRyxLQUFLLENBQUM7UUFDM0IscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBSWhDOztXQUVHO1FBQ0gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxTQUFTOzs7O1FBQUMsVUFBQSxJQUFJO1lBQy9DLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLGlCQUFpQixDQUFDLENBQUM7WUFDckMsS0FBSSxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7Z0JBQ2pCLElBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxZQUFZLEVBQUU7b0JBQ2hFLEtBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDO2lCQUNyRDthQUNGO1FBRUgsQ0FBQyxFQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLFNBQVM7Ozs7UUFBQyxVQUFBLElBQUk7WUFDOUMsS0FBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7UUFDekIsQ0FBQyxFQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsWUFBWSxDQUFDLG1CQUFtQixDQUFDLFNBQVM7Ozs7UUFBQyxVQUFBLElBQUk7WUFDbEQsS0FBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUMvQixDQUFDLEVBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxZQUFZLENBQUMsaUJBQWlCLENBQUMsU0FBUzs7OztRQUFDLFVBQUEsSUFBSTtZQUNoRCxLQUFJLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztRQUM3QixDQUFDLEVBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxZQUFZLENBQUMsbUJBQW1CLENBQUMsU0FBUzs7OztRQUFDLFVBQUEsSUFBSTtZQUNsRCxLQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQy9CLENBQUMsRUFBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFlBQVksQ0FBQyxtQkFBbUIsQ0FBQyxTQUFTOzs7O1FBQUMsVUFBQSxJQUFJO1lBQ2xELEtBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO1FBQzlCLENBQUMsRUFBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFlBQVksQ0FBQyxzQkFBc0IsQ0FBQyxTQUFTOzs7O1FBQUMsVUFBQSxJQUFJO1lBQ3JELEtBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUM7UUFDakMsQ0FBQyxFQUFDLENBQUM7SUFDTCxDQUFDOzs7O0lBRUQsMENBQVE7OztJQUFSO1FBQ0UsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztZQUM1QyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQztZQUNwQyxVQUFVLEVBQUUsQ0FBQyxFQUFFLEVBQUUsVUFBVSxDQUFDLFFBQVEsQ0FBQztTQUN0QyxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsZUFBZSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDO1lBQzdDLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1NBQ3RDLENBQUMsQ0FBQztJQUNMLENBQUM7Ozs7SUFFRCw2Q0FBVzs7O0lBQVg7UUFDRSxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsaUJBQWlCLENBQUMsb0JBQW9CLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQy9ELENBQUM7Ozs7SUFFRCxnREFBYzs7O0lBQWQ7UUFDRSxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDO1FBQzdCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQywwQkFBMEIsQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUMzRSxDQUFDOztnQkFqRkYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLHNtSEFBK0M7O2lCQUVoRDs7OztnQkFUbUIsV0FBVztnQkFDdEIscUJBQXFCO2dCQUNyQixVQUFVO2dCQUNWLFlBQVk7O0lBb0ZyQiw4QkFBQztDQUFBLEFBbEZELElBa0ZDO1NBN0VZLHVCQUF1Qjs7O0lBRWxDLGlEQUEwQjs7SUFDMUIsa0RBQTJCOztJQUMzQiw2Q0FBbUI7O0lBQ25CLDJDQUFnQjs7SUFDaEIsNkNBQW1COztJQUNuQiw2Q0FBbUI7O0lBQ25CLHVEQUFpQzs7SUFFakMsbURBQXlCOztJQUN6QixpREFBdUI7O0lBQ3ZCLG1EQUF5Qjs7SUFDekIsa0RBQXdCOztJQUN4QixxREFBMkI7O0lBQzNCLG1EQUFrQzs7Ozs7SUFFdEIsK0NBQWlDOzs7OztJQUFFLG9EQUFnRDs7Ozs7SUFBRSw2Q0FBOEI7Ozs7O0lBQUUsK0NBQWtDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Hcm91cCwgRm9ybUJ1aWxkZXIsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBFbnRlcnByaXNlRm9ybVNlcnZpY2UgfSBmcm9tICcuL2VudGVycHJpc2UtZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1Db25maWcgfSBmcm9tICcuLi9jb25maWcvRm9ybUNvbmZpZyc7XG5pbXBvcnQgeyBBY3Rpb25Db25maWcgfSBmcm9tICcuLi9jb25maWcvQWN0aW9uQ29uZmlnJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLWVudGVycHJpc2UtZm9ybScsXG4gIHRlbXBsYXRlVXJsOiAnLi9lbnRlcnByaXNlLWZvcm0uY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi9lbnRlcnByaXNlLWZvcm0uY29tcG9uZW50LnNjc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgRW50ZXJwcmlzZUZvcm1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIGZpcnN0Rm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gIHNlY29uZEZvcm1Hcm91cDogRm9ybUdyb3VwO1xuICBpc0VkaXRhYmxlID0gZmFsc2U7XG4gIGlzTGluZWFyID0gdHJ1ZTtcbiAgZW5hYmxlR3JpZCA9IGZhbHNlO1xuICBmb3JtSGVhZGVyOiBzdHJpbmc7XG4gIHJlZmVyZW5jZVBhY2thZ2VMaXN0OiBhbnlbXSA9IFtdO1xuXG4gIGVuYWJsZU1vZHVsZU5hbWUgPSBmYWxzZTtcbiAgZW5hYmxlVXNlclJvbGUgPSBmYWxzZTtcbiAgZW5hYmxlUmVmUGFja2FnZSA9IGZhbHNlO1xuICBlbmFibGVCYXNlUHJpY2UgPSBmYWxzZTtcbiAgZW5hYmxlU3ViRnJlcXVlbmN5ID0gZmFsc2U7XG4gIGVuYWJsZU1ldGFDb25maWc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIF9mb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsIHByaXZhdGUgZW50ZXJwRm9ybVNlcnZpY2U6IEVudGVycHJpc2VGb3JtU2VydmljZSwgcHJpdmF0ZSBmb3JtQ29uZmlnOiBGb3JtQ29uZmlnLCBwcml2YXRlIGFjdGlvbkNvbmZpZzogQWN0aW9uQ29uZmlnKSB7XG5cbiAgICAvKiogc3Vic2NyaWJlcyB0byB0aGUgbGFzdCBlbWl0dGVkIGdyaWQgbGlzdCAoY3VycmVudCBsaXN0KSBmcm9tIHRoZSBiZWhhdmlvdXIgc3ViamVjdFxuICAgICAqICBAY3VycmVudExpc3Qgb2JzZXJ2YWJsZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICB0aGlzLmVudGVycEZvcm1TZXJ2aWNlLmN1cnJlbnRMaXN0LnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEsICdmb3JtIG1vZHVsZUxpc3QnKTtcbiAgICAgIGZvcihsZXQgaSBpbiBkYXRhKSB7XG4gICAgICAgIGlmKGRhdGFbaV0uc3RhdHVzID09PSAncmVhZHknIHx8IGRhdGFbaV0uc3RhdHVzID09PSAnc3Vic2NyaWJlZCcpIHtcbiAgICAgICAgICB0aGlzLnJlZmVyZW5jZVBhY2thZ2VMaXN0LnB1c2goZGF0YVtpXS5wYWNrYWdlTmFtZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgIH0pO1xuXG4gICAgdGhpcy5mb3JtQ29uZmlnLmN1cnJlbnRGb3JtSGVhZGVyLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIHRoaXMuZm9ybUhlYWRlciA9IGRhdGE7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFjdGlvbkNvbmZpZy5jdXJyTW9kdWxlTmFtZVZhbHVlLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlTW9kdWxlTmFtZSA9IGRhdGE7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFjdGlvbkNvbmZpZy5jdXJyVXNlclJvbGVWYWx1ZS5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZVVzZXJSb2xlID0gZGF0YTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWN0aW9uQ29uZmlnLmN1cnJSZWZQYWNrYWdlVmFsdWUuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgdGhpcy5lbmFibGVSZWZQYWNrYWdlID0gZGF0YTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWN0aW9uQ29uZmlnLmN1cnJlQmFzZVByaWNlVmFsdWUuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgdGhpcy5lbmFibGVCYXNlUHJpY2UgPSBkYXRhO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hY3Rpb25Db25maWcuY3VycmVTdWJGcmVxdWVuY3lWYWx1ZS5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZVN1YkZyZXF1ZW5jeSA9IGRhdGE7XG4gICAgfSk7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmZpcnN0Rm9ybUdyb3VwID0gdGhpcy5fZm9ybUJ1aWxkZXIuZ3JvdXAoe1xuICAgICAgZmlyc3RDdHJsOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgZmlyc3QyQ3RybDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICB9KTtcblxuICAgIHRoaXMuc2Vjb25kRm9ybUdyb3VwID0gdGhpcy5fZm9ybUJ1aWxkZXIuZ3JvdXAoe1xuICAgICAgc2Vjb25kQ3RybDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXVxuICAgIH0pO1xuICB9XG5cbiAgYmFja1RvVGFibGUoKSB7XG4gICAgdGhpcy5lbmFibGVHcmlkID0gdHJ1ZTtcbiAgICB0aGlzLmVudGVycEZvcm1TZXJ2aWNlLmVuYWJsZU9wZW5HcmlkQWN0aW9uKHRoaXMuZW5hYmxlR3JpZCk7XG4gIH1cblxuICBvcGVuTWV0YUNvbmZpZygpIHtcbiAgICB0aGlzLmVuYWJsZU1ldGFDb25maWcgPSB0cnVlO1xuICAgIHRoaXMuZW50ZXJwRm9ybVNlcnZpY2UuZW5hYmxlT3Blbk1ldGFDb25maWdBY3Rpb24odGhpcy5lbmFibGVNZXRhQ29uZmlnKTtcbiAgfVxufVxuIl19