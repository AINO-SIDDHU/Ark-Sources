/**
 * @fileoverview added by tsickle
 * Generated from: lib/enterprise-form.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { FormBuilder, Validators } from '@angular/forms';
import { EnterpriseFormService } from './enterprise-form.service';
import { FormConfig } from '../config/FormConfig';
import { ActionConfig } from '../config/ActionConfig';
export class EnterpriseFormComponent {
    /**
     * @param {?} _formBuilder
     * @param {?} enterpFormService
     * @param {?} formConfig
     * @param {?} actionConfig
     */
    constructor(_formBuilder, enterpFormService, formConfig, actionConfig) {
        this._formBuilder = _formBuilder;
        this.enterpFormService = enterpFormService;
        this.formConfig = formConfig;
        this.actionConfig = actionConfig;
        this.isEditable = false;
        this.isLinear = true;
        this.enableGrid = false;
        this.referencePackageList = [];
        this.enableModuleName = false;
        this.enableUserRole = false;
        this.enableRefPackage = false;
        this.enableBasePrice = false;
        this.enableSubFrequency = false;
        this.enableMetaConfig = false;
        /** subscribes to the last emitted grid list (current list) from the behaviour subject
         *  @currentList observable instance.
         */
        this.enterpFormService.currentList.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            console.log(data, 'form moduleList');
            for (let i in data) {
                if (data[i].status === 'ready' || data[i].status === 'subscribed') {
                    this.referencePackageList.push(data[i].packageName);
                }
            }
        }));
        this.formConfig.currentFormHeader.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.formHeader = data;
        }));
        this.actionConfig.currModuleNameValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.enableModuleName = data;
        }));
        this.actionConfig.currUserRoleValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.enableUserRole = data;
        }));
        this.actionConfig.currRefPackageValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.enableRefPackage = data;
        }));
        this.actionConfig.curreBasePriceValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.enableBasePrice = data;
        }));
        this.actionConfig.curreSubFrequencyValue.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        data => {
            this.enableSubFrequency = data;
        }));
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.firstFormGroup = this._formBuilder.group({
            firstCtrl: ['', Validators.required],
            first2Ctrl: ['', Validators.required],
        });
        this.secondFormGroup = this._formBuilder.group({
            secondCtrl: ['', Validators.required]
        });
    }
    /**
     * @return {?}
     */
    backToTable() {
        this.enableGrid = true;
        this.enterpFormService.enableOpenGridAction(this.enableGrid);
    }
    /**
     * @return {?}
     */
    openMetaConfig() {
        this.enableMetaConfig = true;
        this.enterpFormService.enableOpenMetaConfigAction(this.enableMetaConfig);
    }
}
EnterpriseFormComponent.decorators = [
    { type: Component, args: [{
                selector: 'lib-enterprise-form',
                template: "<div class=\"formBgColor\">\n    <mat-toolbar style=\"background: #f0f1f3;\">\n        <button mat-icon-button class=\"back\" (click)=\"backToTable()\">\n            <mat-icon matTooltip=\"back\">keyboard_backspace</mat-icon>\n        </button>\n        <h2 class=\"form-header\">Create new {{formHeader | lowercase }}</h2>\n    </mat-toolbar>\n\n    <div class=\"form-card-container\">\n        <form [formGroup]=\"firstFormGroup\" class=\"form-card\">\n            <h2 class=\"meta-header\">Summary</h2>\n            <mat-card-content>\n                <!-- Module Name -->\n                <p *ngIf=\"enableModuleName\">\n                    <mat-form-field appearance=\"outline\" class=\"name-field\">\n                        <mat-label>Name</mat-label>\n                        <input matInput placeholder=\"Name\" formControlName=\"firstCtrl\" required>\n                    </mat-form-field>\n                </p>\n\n                <!-- User Role -->\n                <p *ngIf=\"enableUserRole\">\n                    <mat-form-field appearance=\"outline\" class=\"select-field\">\n                        <mat-label>{{formHeader }} role</mat-label>\n                        <mat-select formControlName=\"first2Ctrl\">\n                            <mat-option value=\"Queries\">role 1</mat-option>\n                            <mat-option value=\"Items\">role 2</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </p>\n\n                <!-- User refrence package -->\n                <p *ngIf=\"enableRefPackage\">\n                    <mat-form-field appearance=\"outline\" class=\"select-field\">\n                        <mat-label>Use reference {{formHeader | lowercase }}</mat-label>\n                        <mat-select formControlName=\"first2Ctrl\" required>\n                            <mat-option>--select--</mat-option>\n                            <mat-option value=\"{{element}}\" *ngFor='let element of referencePackageList' >{{element}}</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </p>\n\n                <!-- Base Price -->\n                <p *ngIf=\"enableBasePrice\">\n                    <mat-form-field appearance=\"outline\" class=\"name-field\">\n                        <mat-label>Base price</mat-label>\n                        <input matInput placeholder=\"Base price\" formControlName=\"firstCtrl\" required>\n                        <i class=\"fa fa-euro\" style=\"font-size:22px\" matSuffix></i>\n                    </mat-form-field>\n                </p>\n\n                <!-- Subscription frequency -->\n                <p *ngIf=\"enableSubFrequency\">\n                    <mat-form-field appearance=\"outline\" class=\"select-field\">\n                        <mat-label>Subscription frequency</mat-label>\n                        <mat-select formControlName=\"first2Ctrl\">\n                            <mat-option value=\"Quaterly\">Monthly</mat-option>\n                            <mat-option value=\"Quaterly\">Quaterly</mat-option>\n                            <mat-option value=\"Half Year\">Half Yearly</mat-option>\n                            <mat-option value=\"Annually\">Annually</mat-option>\n                        </mat-select>\n                    </mat-form-field>\n                </p>\n                <button mat-stroked-button type=\"button\" class=\"next-button\" (click)=\"openMetaConfig()\">{{formHeader | lowercase}} details\n                    <mat-icon>chevron_right</mat-icon>\n                </button>\n\n            </mat-card-content>\n        </form>\n    </div>\n</div>",
                styles: [".formBgColor{background:#f0f1f3}.form-card-container{margin:8px;height:73vh;-webkit-animation:.5s cubic-bezier(.25,.46,.45,.94) both slide-left;animation:.5s cubic-bezier(.25,.46,.45,.94) both slide-left;background:#fff}@-webkit-keyframes slide-left{from{transform:translateX(150px)}to{transform:translateX(5px)}}@keyframes slide-left{from{transform:translateX(150px)}to{transform:translateX(5px)}}.form-header{color:#414c55;font-family:Questrial,sans-serif;font-weight:700;letter-spacing:1px}.meta-header{color:#414c55;font-family:Questrial,sans-serif;letter-spacing:1px;font-weight:100}.form-card{padding:27px}.mat-option{font-size:smaller}.name-field,.select-field{width:40%;font-family:Questrial,sans-serif}.next-button{position:absolute;bottom:30px;right:50px;background:#414c55;color:#fff;font-size:16px;outline:0;border:none;padding:5px 40px;font-family:Questrial,sans-serif}.next-button:hover{box-shadow:0 12px 16px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}"]
            }] }
];
/** @nocollapse */
EnterpriseFormComponent.ctorParameters = () => [
    { type: FormBuilder },
    { type: EnterpriseFormService },
    { type: FormConfig },
    { type: ActionConfig }
];
if (false) {
    /** @type {?} */
    EnterpriseFormComponent.prototype.firstFormGroup;
    /** @type {?} */
    EnterpriseFormComponent.prototype.secondFormGroup;
    /** @type {?} */
    EnterpriseFormComponent.prototype.isEditable;
    /** @type {?} */
    EnterpriseFormComponent.prototype.isLinear;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableGrid;
    /** @type {?} */
    EnterpriseFormComponent.prototype.formHeader;
    /** @type {?} */
    EnterpriseFormComponent.prototype.referencePackageList;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableModuleName;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableUserRole;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableRefPackage;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableBasePrice;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableSubFrequency;
    /** @type {?} */
    EnterpriseFormComponent.prototype.enableMetaConfig;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype._formBuilder;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype.enterpFormService;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype.formConfig;
    /**
     * @type {?}
     * @private
     */
    EnterpriseFormComponent.prototype.actionConfig;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50ZXJwcmlzZS1mb3JtLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2VudGVycHJpc2UtZm9ybS8iLCJzb3VyY2VzIjpbImxpYi9lbnRlcnByaXNlLWZvcm0uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQWEsV0FBVyxFQUFFLFVBQVUsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBQ3BFLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFPdEQsTUFBTSxPQUFPLHVCQUF1Qjs7Ozs7OztJQWlCbEMsWUFBb0IsWUFBeUIsRUFBVSxpQkFBd0MsRUFBVSxVQUFzQixFQUFVLFlBQTBCO1FBQS9JLGlCQUFZLEdBQVosWUFBWSxDQUFhO1FBQVUsc0JBQWlCLEdBQWpCLGlCQUFpQixDQUF1QjtRQUFVLGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxpQkFBWSxHQUFaLFlBQVksQ0FBYztRQWJuSyxlQUFVLEdBQUcsS0FBSyxDQUFDO1FBQ25CLGFBQVEsR0FBRyxJQUFJLENBQUM7UUFDaEIsZUFBVSxHQUFHLEtBQUssQ0FBQztRQUVuQix5QkFBb0IsR0FBVSxFQUFFLENBQUM7UUFFakMscUJBQWdCLEdBQUcsS0FBSyxDQUFDO1FBQ3pCLG1CQUFjLEdBQUcsS0FBSyxDQUFDO1FBQ3ZCLHFCQUFnQixHQUFHLEtBQUssQ0FBQztRQUN6QixvQkFBZSxHQUFHLEtBQUssQ0FBQztRQUN4Qix1QkFBa0IsR0FBRyxLQUFLLENBQUM7UUFDM0IscUJBQWdCLEdBQVksS0FBSyxDQUFDO1FBSWhDOztXQUVHO1FBQ0gsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQyxT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Qjs7SUFDbkIsMkNBQWdCOztJQUNoQiw2Q0FBbUI7O0lBQ25CLDZDQUFtQjs7SUFDbkIsdURBQWlDOztJQUVqQyxtREFBeUI7O0lBQ3pCLGlEQUF1Qjs7SUFDdkIsbURBQXlCOztJQUN6QixrREFBd0I7O0lBQ3hCLHFEQUEyQjs7SUFDM0IsbURBQWtDOzs7OztJQUV0QiwrQ0FBaUM7Ozs7O0lBQUUsb0RBQWdEOzs7OztJQUFFLDZDQUE4Qjs7Ozs7SUFBRSwrQ0FBa0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQnVpbGRlciwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IEVudGVycHJpc2VGb3JtU2VydmljZSB9IGZyb20gJy4vZW50ZXJwcmlzZS1mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgRm9ybUNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy9Gb3JtQ29uZmlnJztcbmltcG9ydCB7IEFjdGlvbkNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZy9BY3Rpb25Db25maWcnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdsaWItZW50ZXJwcmlzZS1mb3JtJyxcbiAgdGVtcGxhdGVVcmw6ICcuL2VudGVycHJpc2UtZm9ybS5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2VudGVycHJpc2UtZm9ybS5jb21wb25lbnQuc2NzcyddLFxufSlcbmV4cG9ydCBjbGFzcyBFbnRlcnByaXNlRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgZmlyc3RGb3JtR3JvdXA6IEZvcm1Hcm91cDtcbiAgc2Vjb25kRm9ybUdyb3VwOiBGb3JtR3JvdXA7XG4gIGlzRWRpdGFibGUgPSBmYWxzZTtcbiAgaXNMaW5lYXIgPSB0cnVlO1xuICBlbmFibGVHcmlkID0gZmFsc2U7XG4gIGZvcm1IZWFkZXI6IHN0cmluZztcbiAgcmVmZXJlbmNlUGFja2FnZUxpc3Q6IGFueVtdID0gW107XG5cbiAgZW5hYmxlTW9kdWxlTmFtZSA9IGZhbHNlO1xuICBlbmFibGVVc2VyUm9sZSA9IGZhbHNlO1xuICBlbmFibGVSZWZQYWNrYWdlID0gZmFsc2U7XG4gIGVuYWJsZUJhc2VQcmljZSA9IGZhbHNlO1xuICBlbmFibGVTdWJGcmVxdWVuY3kgPSBmYWxzZTtcbiAgZW5hYmxlTWV0YUNvbmZpZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX2Zvcm1CdWlsZGVyOiBGb3JtQnVpbGRlciwgcHJpdmF0ZSBlbnRlcnBGb3JtU2VydmljZTogRW50ZXJwcmlzZUZvcm1TZXJ2aWNlLCBwcml2YXRlIGZvcm1Db25maWc6IEZvcm1Db25maWcsIHByaXZhdGUgYWN0aW9uQ29uZmlnOiBBY3Rpb25Db25maWcpIHtcblxuICAgIC8qKiBzdWJzY3JpYmVzIHRvIHRoZSBsYXN0IGVtaXR0ZWQgZ3JpZCBsaXN0IChjdXJyZW50IGxpc3QpIGZyb20gdGhlIGJlaGF2aW91ciBzdWJqZWN0XG4gICAgICogIEBjdXJyZW50TGlzdCBvYnNlcnZhYmxlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIHRoaXMuZW50ZXJwRm9ybVNlcnZpY2UuY3VycmVudExpc3Quc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgY29uc29sZS5sb2coZGF0YSwgJ2Zvcm0gbW9kdWxlTGlzdCcpO1xuICAgICAgZm9yKGxldCBpIGluIGRhdGEpIHtcbiAgICAgICAgaWYoZGF0YVtpXS5zdGF0dXMgPT09ICdyZWFkeScgfHwgZGF0YVtpXS5zdGF0dXMgPT09ICdzdWJzY3JpYmVkJykge1xuICAgICAgICAgIHRoaXMucmVmZXJlbmNlUGFja2FnZUxpc3QucHVzaChkYXRhW2ldLnBhY2thZ2VOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICB0aGlzLmZvcm1Db25maWcuY3VycmVudEZvcm1IZWFkZXIuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgdGhpcy5mb3JtSGVhZGVyID0gZGF0YTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWN0aW9uQ29uZmlnLmN1cnJNb2R1bGVOYW1lVmFsdWUuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgdGhpcy5lbmFibGVNb2R1bGVOYW1lID0gZGF0YTtcbiAgICB9KTtcblxuICAgIHRoaXMuYWN0aW9uQ29uZmlnLmN1cnJVc2VyUm9sZVZhbHVlLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlVXNlclJvbGUgPSBkYXRhO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hY3Rpb25Db25maWcuY3VyclJlZlBhY2thZ2VWYWx1ZS5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZVJlZlBhY2thZ2UgPSBkYXRhO1xuICAgIH0pO1xuXG4gICAgdGhpcy5hY3Rpb25Db25maWcuY3VycmVCYXNlUHJpY2VWYWx1ZS5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICB0aGlzLmVuYWJsZUJhc2VQcmljZSA9IGRhdGE7XG4gICAgfSk7XG5cbiAgICB0aGlzLmFjdGlvbkNvbmZpZy5jdXJyZVN1YkZyZXF1ZW5jeVZhbHVlLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlU3ViRnJlcXVlbmN5ID0gZGF0YTtcbiAgICB9KTtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZmlyc3RGb3JtR3JvdXAgPSB0aGlzLl9mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICBmaXJzdEN0cmw6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICBmaXJzdDJDdHJsOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgIH0pO1xuXG4gICAgdGhpcy5zZWNvbmRGb3JtR3JvdXAgPSB0aGlzLl9mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICBzZWNvbmRDdHJsOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdXG4gICAgfSk7XG4gIH1cblxuICBiYWNrVG9UYWJsZSgpIHtcbiAgICB0aGlzLmVuYWJsZUdyaWQgPSB0cnVlO1xuICAgIHRoaXMuZW50ZXJwRm9ybVNlcnZpY2UuZW5hYmxlT3BlbkdyaWRBY3Rpb24odGhpcy5lbmFibGVHcmlkKTtcbiAgfVxuXG4gIG9wZW5NZXRhQ29uZmlnKCkge1xuICAgIHRoaXMuZW5hYmxlTWV0YUNvbmZpZyA9IHRydWU7XG4gICAgdGhpcy5lbnRlcnBGb3JtU2VydmljZS5lbmFibGVPcGVuTWV0YUNvbmZpZ0FjdGlvbih0aGlzLmVuYWJsZU1ldGFDb25maWcpO1xuICB9XG59XG4iXX0=