/**
 * @fileoverview added by tsickle
 * Generated from: lib/enterprise-meta-config.component.ts
 * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component } from '@angular/core';
import { EnterpriseMetaConfigService } from './enterprise-meta-config.service';
import { MetaConfig } from '../config/MetaConfig';
import { FormBuilder, Validators } from '@angular/forms';
var EnterpriseMetaConfigComponent = /** @class */ (function () {
    function EnterpriseMetaConfigComponent(metaConfig, enterMetaConfigService, _formBuilder) {
        var _this = this;
        this.metaConfig = metaConfig;
        this.enterMetaConfigService = enterMetaConfigService;
        this._formBuilder = _formBuilder;
        this.enableForm = false;
        this.currentSelector = 'Region selector';
        this.stepIndicatorNo = 1;
        this.selectorList = ['Region selector', 'Media selector', 'Service selector', 'Distribution selector', 'SAAS/PAAS selector',
            'Agency discount selector', 'Stream selector', 'Information details', 'Report selector', 'Social selector'];
        this.metaConfig.currentMetaConfigHeader.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            _this.metaConfigHeader = data;
        }));
        this.enterMetaConfigService.currentAttrGroupList.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            for (var i = 0; i < data.length; i++) {
                for (var a in data[i]) {
                    _this.attributeGroupList.push(data[i][a]);
                }
            }
            console.log(_this.attributeGroupList);
        }));
        this.enterMetaConfigService.currentAttrOptionList.subscribe((/**
         * @param {?} data
         * @return {?}
         */
        function (data) {
            console.log(data, ' meta option list');
        }));
    }
    /**
     * @return {?}
     */
    EnterpriseMetaConfigComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.firstFormGroup = this._formBuilder.group({
            firstCtrl: ['', Validators.required]
        });
    };
    /**
     * @return {?}
     */
    EnterpriseMetaConfigComponent.prototype.backToSummary = /**
     * @return {?}
     */
    function () {
        this.enterMetaConfigService.enableOpenFormAction(this.enableForm);
    };
    /**
     * @return {?}
     */
    EnterpriseMetaConfigComponent.prototype.prevSelector = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var formCard = (/** @type {?} */ (document.getElementsByClassName('form-card-content')[0]));
        formCard.style.animation = 'slide-left 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both';
        for (var i = 0; i < this.attributeGroupList.length; i++) {
            if (this.attributeGroupList[i] === this.currentSelector && i > 0) {
                this.stepIndicatorNo = i;
                i--;
                this.currentSelector = this.attributeGroupList[i];
            }
        }
        setTimeout((/**
         * @return {?}
         */
        function () {
            formCard.style.animation = '';
        }), 500);
    };
    /**
     * @return {?}
     */
    EnterpriseMetaConfigComponent.prototype.nextSelector = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var formCard = (/** @type {?} */ (document.getElementsByClassName('form-card-content')[0]));
        formCard.style.animation = 'slide-left 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both';
        for (var i = 0; i < this.attributeGroupList.length; i++) {
            for (var a in this.attributeGroupList[i]) {
                console.log(this.attributeGroupList[i][a]);
                if (a === this.currentSelector && i < this.attributeGroupList.length - 1) {
                    i++;
                    this.currentSelector = this.attributeGroupList[i][a];
                    this.stepIndicatorNo = i + 1;
                    // console.log(this.currentSelector, i);
                }
            }
        }
        setTimeout((/**
         * @return {?}
         */
        function () {
            formCard.style.animation = '';
        }), 500);
    };
    EnterpriseMetaConfigComponent.decorators = [
        { type: Component, args: [{
                    selector: 'lib-enterprise-meta-config',
                    template: "<div class=\"formBgColor\">\n    <mat-toolbar style=\"background: #f0f1f3;\">\n        <button mat-icon-button class=\"back\" (click)=\"backToSummary()\">\n            <mat-icon matTooltip=\"back\">keyboard_backspace</mat-icon>\n        </button>\n        <h2 class=\"meta-config-header\">Configure {{metaConfigHeader}} details</h2>\n    </mat-toolbar>\n\n    <div class=\"form-card-container\">\n        <button mat-fab class=\"step-indicator\">{{stepIndicatorNo}}</button>\n\n        <!-- <svg class=\"progress-circle\" width=\"70\" height=\"70\">\n            <path d=\"m35,2.5c17.955803,0 32.5,14.544199 32.5,32.5c0,17.955803 -14.544197,32.5 -32.5,32.5c-17.955803,0 -32.5,-14.544197 -32.5,-32.5c0,-17.955801 14.544197,-32.5 32.5,-32.5z\"/>\n        </svg> -->\n\n        <div class=\"form-card-content\">\n            <form [formGroup]=\"firstFormGroup\" class=\"form-card\">\n                <mat-card-content>\n                    <p>\n                        <mat-form-field appearance=\"outline\" class=\"name-field\">\n                            <mat-label>{{currentSelector}}</mat-label>\n                            <mat-select formControlName=\"first2Ctrl\" required>\n                                <mat-option>1</mat-option>\n                                <mat-option>2</mat-option>\n                            </mat-select>\n                        </mat-form-field>\n                    </p>\n\n                    <button mat-stroked-button type=\"button\" class=\"prev-button\" (click)=\"prevSelector()\">\n                        <mat-icon>chevron_left</mat-icon>\n                    </button>\n\n                    <button mat-stroked-button type=\"button\" class=\"next-button\" (click)=\"nextSelector()\">\n                        <mat-icon>chevron_right</mat-icon>\n                    </button>\n                </mat-card-content>\n            </form>\n        </div>\n    </div>\n</div>",
                    styles: [".formBgColor{background:#f0f1f3}.meta-config-header{color:#414c55;font-family:Questrial,sans-serif;font-weight:700;letter-spacing:1px}.form-card-container{height:73vh;margin:8px;-webkit-animation:.5s cubic-bezier(.25,.46,.45,.94) both slide-left;animation:.5s cubic-bezier(.25,.46,.45,.94) both slide-left;background:#fff;display:-webkit-box;display:flex}@-webkit-keyframes slide-left{from{-webkit-transform:translateX(150px);transform:translateX(150px)}to{-webkit-transform:translateX(5px);transform:translateX(5px)}}@keyframes slide-left{from{-webkit-transform:translateX(150px);transform:translateX(150px)}to{-webkit-transform:translateX(5px);transform:translateX(5px)}}.form-card-content{background:#f0f1f3;width:50vw;height:50vh;margin-top:5%;box-shadow:0 12px 16px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}.form-card{padding:27px}.name-field{width:40%;font-family:Questrial,sans-serif}.next-button{background:#414c55;color:#fff;font-size:16px;outline:0;border:none;padding:5px 40px;font-family:Questrial,sans-serif;float:right;position:relative;bottom:-102px}.next-button:hover{box-shadow:0 12px 16px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}.step-indicator{margin:5% 8%;background:#f0f1f3;width:72px;height:72px;font-size:x-large;color:#414c55}.prev-button{background:#414c55;color:#fff;font-size:16px;outline:0;border:none;padding:5px 40px;font-family:Questrial,sans-serif;position:relative;bottom:-102px}.prev-button:hover{box-shadow:0 12px 16px 0 rgba(0,0,0,.24),0 17px 50px 0 rgba(0,0,0,.19)}"]
                }] }
    ];
    /** @nocollapse */
    EnterpriseMetaConfigComponent.ctorParameters = function () { return [
        { type: MetaConfig },
        { type: EnterpriseMetaConfigService },
        { type: FormBuilder }
    ]; };
    return EnterpriseMetaConfigComponent;
}());
export { EnterpriseMetaConfigComponent };
if (false) {
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.metaConfigHeader;
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.enableForm;
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.firstFormGroup;
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.currentSelector;
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.stepIndicatorNo;
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.attributeGroupList;
    /** @type {?} */
    EnterpriseMetaConfigComponent.prototype.selectorList;
    /**
     * @type {?}
     * @private
     */
    EnterpriseMetaConfigComponent.prototype.metaConfig;
    /**
     * @type {?}
     * @private
     */
    EnterpriseMetaConfigComponent.prototype.enterMetaConfigService;
    /**
     * @type {?}
     * @private
     */
    EnterpriseMetaConfigComponent.prototype._formBuilder;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW50ZXJwcmlzZS1tZXRhLWNvbmZpZy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9lbnRlcnByaXNlLW1ldGEtY29uZmlnLyIsInNvdXJjZXMiOlsibGliL2VudGVycHJpc2UtbWV0YS1jb25maWcuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsMkJBQTJCLEVBQUUsTUFBTSxrQ0FBa0MsQ0FBQztBQUMvRSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFDbEQsT0FBTyxFQUFhLFdBQVcsRUFBRSxVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUVwRTtJQWlCRSx1Q0FBb0IsVUFBc0IsRUFBVSxzQkFBbUQsRUFBVSxZQUF5QjtRQUExSSxpQkFtQkM7UUFuQm1CLGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSwyQkFBc0IsR0FBdEIsc0JBQXNCLENBQTZCO1FBQVUsaUJBQVksR0FBWixZQUFZLENBQWE7UUFUMUksZUFBVSxHQUFHLEtBQUssQ0FBQztRQUVuQixvQkFBZSxHQUFXLGlCQUFpQixDQUFDO1FBQzVDLG9CQUFlLEdBQVcsQ0FBQyxDQUFDO1FBRzVCLGlCQUFZLEdBQUcsQ0FBQyxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSxrQkFBa0IsRUFBRSx1QkFBdUIsRUFBRSxvQkFBb0I7WUFDdEgsMEJBQTBCLEVBQUUsaUJBQWlCLEVBQUUscUJBQXFCLEVBQUUsaUJBQWlCLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztRQUkxRyxJQUFJLENBQUMsVUFBVSxDQUFDLHVCQUF1QixDQUFDLFNBQVM7Ozs7UUFBQyxVQUFBLElBQUk7WUFDcEQsS0FBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQztRQUMvQixDQUFDLEVBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxvQkFBb0IsQ0FBQyxT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QWUsR0FBRyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQ3JELElBQUksQ0FBQyxlQUFlLEdBQUcsQ0FBQyxHQUFDLENBQUMsQ0FBQztvQkFDM0Isd0NBQXdDO2lCQUN6QzthQUNBO1NBQ0Y7UUFFRCxVQUFVOzs7UUFBQztZQUNULFFBQVEsQ0FBQyxLQUFLLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNoQyxDQUFDLEdBQUUsR0FBRyxDQUFDLENBQUM7SUFDVixDQUFDOztnQkF0RkYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSw0QkFBNEI7b0JBQ3RDLDI0REFBc0Q7O2lCQUV2RDs7OztnQkFQUSxVQUFVO2dCQURWLDJCQUEyQjtnQkFFaEIsV0FBVzs7SUEwRi9CLG9DQUFDO0NBQUEsQUF4RkQsSUF3RkM7U0FuRlksNkJBQTZCOzs7SUFFeEMseURBQXlCOztJQUN6QixtREFBbUI7O0lBQ25CLHVEQUEwQjs7SUFDMUIsd0RBQTRDOztJQUM1Qyx3REFBNEI7O0lBQzVCLDJEQUFtQjs7SUFFbkIscURBQzRHOzs7OztJQUVoRyxtREFBOEI7Ozs7O0lBQUUsK0RBQTJEOzs7OztJQUFFLHFEQUFpQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBFbnRlcnByaXNlTWV0YUNvbmZpZ1NlcnZpY2UgfSBmcm9tICcuL2VudGVycHJpc2UtbWV0YS1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBNZXRhQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL01ldGFDb25maWcnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBGb3JtQnVpbGRlciwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbGliLWVudGVycHJpc2UtbWV0YS1jb25maWcnLFxuICB0ZW1wbGF0ZVVybDogJy4vZW50ZXJwcmlzZS1tZXRhLWNvbmZpZy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL2VudGVycHJpc2UtbWV0YS1jb25maWcuY29tcG9uZW50LnNjc3MnXSxcbn0pXG5leHBvcnQgY2xhc3MgRW50ZXJwcmlzZU1ldGFDb25maWdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIG1ldGFDb25maWdIZWFkZXI6IHN0cmluZztcbiAgZW5hYmxlRm9ybSA9IGZhbHNlO1xuICBmaXJzdEZvcm1Hcm91cDogRm9ybUdyb3VwO1xuICBjdXJyZW50U2VsZWN0b3I6IHN0cmluZyA9ICdSZWdpb24gc2VsZWN0b3InO1xuICBzdGVwSW5kaWNhdG9yTm86IG51bWJlciA9IDE7XG4gIGF0dHJpYnV0ZUdyb3VwTGlzdDtcblxuICBzZWxlY3Rvckxpc3QgPSBbJ1JlZ2lvbiBzZWxlY3RvcicsICdNZWRpYSBzZWxlY3RvcicsICdTZXJ2aWNlIHNlbGVjdG9yJywgJ0Rpc3RyaWJ1dGlvbiBzZWxlY3RvcicsICdTQUFTL1BBQVMgc2VsZWN0b3InLFxuICAnQWdlbmN5IGRpc2NvdW50IHNlbGVjdG9yJywgJ1N0cmVhbSBzZWxlY3RvcicsICdJbmZvcm1hdGlvbiBkZXRhaWxzJywgJ1JlcG9ydCBzZWxlY3RvcicsICdTb2NpYWwgc2VsZWN0b3InXTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG1ldGFDb25maWc6IE1ldGFDb25maWcsIHByaXZhdGUgZW50ZXJNZXRhQ29uZmlnU2VydmljZTogRW50ZXJwcmlzZU1ldGFDb25maWdTZXJ2aWNlLCBwcml2YXRlIF9mb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIpIHsgXG5cbiAgICB0aGlzLm1ldGFDb25maWcuY3VycmVudE1ldGFDb25maWdIZWFkZXIuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgdGhpcy5tZXRhQ29uZmlnSGVhZGVyID0gZGF0YTtcbiAgICB9KTtcblxuICAgIHRoaXMuZW50ZXJNZXRhQ29uZmlnU2VydmljZS5jdXJyZW50QXR0ckdyb3VwTGlzdC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgXG4gICAgICBmb3IobGV0IGk9MDsgaTwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IobGV0IGEgaW4gZGF0YVtpXSkge1xuICAgICAgICAgIHRoaXMuYXR0cmlidXRlR3JvdXBMaXN0LnB1c2goZGF0YVtpXVthXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXR0cmlidXRlR3JvdXBMaXN0KTtcbiAgICB9KTtcbiAgICBcbiAgICB0aGlzLmVudGVyTWV0YUNvbmZpZ1NlcnZpY2UuY3VycmVudEF0dHJPcHRpb25MaXN0LnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEsICcgbWV0YSBvcHRpb24gbGlzdCcpO1xuICAgIH0pO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5maXJzdEZvcm1Hcm91cCA9IHRoaXMuX2Zvcm1CdWlsZGVyLmdyb3VwKHtcbiAgICAgIGZpcnN0Q3RybDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXVxuICAgIH0pO1xuICAgIFxuICB9XG5cbiAgYmFja1RvU3VtbWFyeSgpIHtcbiAgICB0aGlzLmVudGVyTWV0YUNvbmZpZ1NlcnZpY2UuZW5hYmxlT3BlbkZvcm1BY3Rpb24odGhpcy5lbmFibGVGb3JtKTtcbiAgfVxuXG4gIHByZXZTZWxlY3RvcigpIHtcbiAgICBsZXQgZm9ybUNhcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtLWNhcmQtY29udGVudCcpWzBdIGFzIEhUTUxFbGVtZW50O1xuICAgIGZvcm1DYXJkLnN0eWxlLmFuaW1hdGlvbiA9ICdzbGlkZS1sZWZ0IDAuNXMgY3ViaWMtYmV6aWVyKDAuMjUsIDAuNDYsIDAuNDUsIDAuOTQpIGJvdGgnO1xuXG4gICAgZm9yKGxldCBpPTA7IGk8IHRoaXMuYXR0cmlidXRlR3JvdXBMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZih0aGlzLmF0dHJpYnV0ZUdyb3VwTGlzdFtpXSA9PT0gdGhpcy5jdXJyZW50U2VsZWN0b3IgJiYgaSA+IDApIHtcbiAgICAgICAgdGhpcy5zdGVwSW5kaWNhdG9yTm8gPSBpO1xuICAgICAgICBpLS07XG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdG9yID0gdGhpcy5hdHRyaWJ1dGVHcm91cExpc3RbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGZvcm1DYXJkLnN0eWxlLmFuaW1hdGlvbiA9ICcnO1xuICAgIH0sIDUwMCk7XG4gIH1cblxuICBuZXh0U2VsZWN0b3IoKSB7XG4gICAgbGV0IGZvcm1DYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9ybS1jYXJkLWNvbnRlbnQnKVswXSBhcyBIVE1MRWxlbWVudDtcbiAgICBmb3JtQ2FyZC5zdHlsZS5hbmltYXRpb24gPSAnc2xpZGUtbGVmdCAwLjVzIGN1YmljLWJlemllcigwLjI1LCAwLjQ2LCAwLjQ1LCAwLjk0KSBib3RoJztcblxuICAgIGZvcihsZXQgaT0wOyBpPCB0aGlzLmF0dHJpYnV0ZUdyb3VwTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yKGxldCBhIGluIHRoaXMuYXR0cmlidXRlR3JvdXBMaXN0W2ldKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXR0cmlidXRlR3JvdXBMaXN0W2ldW2FdKTtcbiAgICAgICAgaWYoYSA9PT0gdGhpcy5jdXJyZW50U2VsZWN0b3IgJiYgaSA8IHRoaXMuYXR0cmlidXRlR3JvdXBMaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgaSsrO1xuICAgICAgXG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdG9yID0gdGhpcy5hdHRyaWJ1dGVHcm91cExpc3RbaV1bYV07XG4gICAgICAgIHRoaXMuc3RlcEluZGljYXRvck5vID0gaSsxO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRTZWxlY3RvciwgaSk7XG4gICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGZvcm1DYXJkLnN0eWxlLmFuaW1hdGlvbiA9ICcnO1xuICAgIH0sIDUwMCk7XG4gIH1cblxufVxuIl19